{"ast":null,"code":"import { useEffect, useState, useLayoutEffect, useRef } from \"react\";\nimport axios, { get } from 'axios'; // hook to add mousemove event\n// documentation\n//https://codedaily.io/tutorials/60/Create-a-useMousePosition-Hook-with-useEffect-and-useState-in-React\n\nexport const useMouseMove = () => {\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  useEffect(() => {\n    const setFromEvent = e => setPosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n\n    window.addEventListener(\"mousemove\", setFromEvent);\n    return () => {\n      window.removeEventListener(\"mousemove\", setFromEvent);\n    };\n  }, [position]);\n  return position;\n}; // hook to add scroll event\n// documentation\n// https://github.com/n8tb1t/use-scroll-position\n// https://dev.to/n8tb1t/tracking-scroll-position-with-react-hooks-3bbj\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect; // the type of window is an object\n\nconst isBrowser = typeof window !== `undefined`;\n\nfunction getScrollPosition({\n  element,\n  useWindow\n}) {\n  if (!isBrowser) return {\n    x: 0,\n    y: 0\n  }; // if there is an element in the DOM to target, target. If not target the body\n\n  const target = element ? element.current : document.body; // get the positions(x,y,height,width, etc) of the target element\n\n  const position = target.getBoundingClientRect();\n  return useWindow ? {\n    x: window.scrollX,\n    y: window.scrollY\n  } : {\n    x: position.left,\n    y: position.top\n  };\n}\n\nexport function useScrollPosition(effect, deps, element, useWindow, wait) {\n  // return x: window.scrollX, y: window.scrollY \n  const position = useRef(getScrollPosition({\n    useWindow\n  }));\n  let throttleTimeout = null;\n\n  const callBack = () => {\n    const currPos = getScrollPosition({\n      element,\n      useWindow\n    });\n    effect({\n      prevPos: position.current,\n      currPos\n    });\n    position.current = currPos;\n    throttleTimeout = null;\n  };\n\n  useIsomorphicLayoutEffect(() => {\n    if (!isBrowser) {\n      return;\n    }\n\n    const handleScroll = () => {\n      if (wait) {\n        if (throttleTimeout === null) {\n          throttleTimeout = setTimeout(callBack, wait);\n        }\n      } else {\n        callBack();\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, deps);\n}\nuseScrollPosition.defaultProps = {\n  deps: [],\n  element: false,\n  useWindow: false,\n  wait: null\n}; // hook to get the window's width and height\n\nconst getWindowDimensions = () => {\n  // get the width and the height from the window object\n  const {\n    innerWidth: width,\n    innerHeight: height\n  } = window;\n  return {\n    width,\n    height\n  };\n};\n\nexport const useWindowDimensions = () => {\n  // set default state of the hook\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions()); // set event when the window is resize\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []); // return the hook with the data\n\n  return windowDimensions;\n}; // hook to manege Nav Bar\n\nexport const useNavBar = (colorRight, colorLeft) => {\n  // get the width and height from the window using already setted hook\n  const {\n    width,\n    height\n  } = useWindowDimensions(); // set the scroll Border Nav Hook\n\n  const [scrollPorcent, setScrollPorcent] = useState(\"\"); // get the total height of the document\n\n  const documentHeight = document.body.scrollHeight;\n  useScrollPosition(({\n    prevPos,\n    currPos\n  }) => {\n    // get the scrollposition if < 50 windowlenght  ? position : bottom position\n    let scroll = Math.abs(currPos.y) < height ? Math.abs(currPos.y) : Math.abs(currPos.y) + height; // set porcentages\n\n    let left = Math.floor(scroll * 100 / documentHeight);\n    let right = 100 - left; // set the border Image strings\n\n    let linearGradient = left > 50 ? `linear-gradient(to right, ${colorRight} ${left}%, ${colorLeft} ${right}%)1` : `linear-gradient(to left, ${colorLeft} ${right}%, ${colorRight} ${left}%)1`; // store on the hook\n\n    setScrollPorcent([linearGradient, Math.abs(currPos.y)]);\n  });\n  return [scrollPorcent, documentHeight, height];\n}; // hoock to handle the Image Displayer\n\nexport const useHandleCursor = (projects, leng, img, setPortfolio, scrollPosition) => {\n  // store all the image string names in an array\n  const imagesList = (projects, leng) => {\n    let images = [];\n    projects.map(proj => proj[Object.keys(proj)].images && proj[Object.keys(proj)].images.map(img => images.push({\n      img: img.img,\n      alt: proj[Object.keys(proj)].title[leng]\n    })));\n    return images;\n  }; // store the images ina hook\n\n\n  const [images, setImages] = useState(imagesList(projects, leng)); // get the index from the imageList of the current image\n\n  const initialIndex = img => images.reduce((acc, image, ind) => {\n    if (image.img === img.img) {\n      return acc + ind;\n    }\n\n    return acc;\n  }, 0); // get the initial index from the img\n\n\n  const [index, setIndex] = useState(initialIndex(img));\n  const [handelCursor, setHandelCursor] = useState({}); // mousemove hook\n\n  const position = useMouseMove();\n  useEffect(() => {\n    handelCursorEvent();\n  }, [index, position]); // three cursor position (left-center-right)\n  // return an object with the cursos icon and the event function\n\n  const handelCursorEvent = () => {\n    // set the window height\n    const windowHeight = window.innerWidth;\n    if (position.x < windowHeight / 3 - 100) setHandelCursor({\n      cursor: \"url('https://img.icons8.com/ios/30/ffffff/back--v1.png'), auto\",\n      event: () => index > 0 && setIndex(index - 1)\n    });else if (position.x > windowHeight / 3 * 2 + 100) setHandelCursor({\n      cursor: \"url('https://img.icons8.com/ios/30/ffffff/forward--v1.png'), auto\",\n      event: () => index < images.length - 1 && setIndex(index + 1)\n    });else setHandelCursor({\n      cursor: \"url('https://img.icons8.com/ios/30/ffffff/delete-sign.png'), auto\",\n      event: () => {\n        setPortfolio(\"gallery\");\n        window.scrollTo({\n          top: scrollPosition,\n          behavior: 'auto'\n        });\n      }\n    });\n  };\n\n  return [index, images, handelCursor];\n};\n\nconst useFetchData = url => {\n  // hook where the projects are stored\n  const [projects, setProjects] = useState();\n  const [isErr, setisError] = useState();\n\n  const getData = async () => {\n    try {\n      const res = await get(url);\n      return res;\n    } catch (err) {\n      console.log(err);\n      return err.response;\n    }\n  };\n\n  const fetchData = async (setProjects, setisError) => {\n    // fetch data\n    const res = await getData(); // unsucced fetch\n\n    if (!res) {\n      // catch errors and display UI\n      setisErr(true);\n    } else if (res.status === 200) {\n      // store the data in the hook\n      setProjects(res.data);\n      console.log(\"projects stored\");\n    }\n  };\n};","map":{"version":3,"sources":["/Users/arturorugh/Documents/code/art-portfolio/src/helpers/hooks.js"],"names":["useEffect","useState","useLayoutEffect","useRef","axios","get","useMouseMove","position","setPosition","x","y","setFromEvent","e","clientX","clientY","window","addEventListener","removeEventListener","useIsomorphicLayoutEffect","isBrowser","getScrollPosition","element","useWindow","target","current","document","body","getBoundingClientRect","scrollX","scrollY","left","top","useScrollPosition","effect","deps","wait","throttleTimeout","callBack","currPos","prevPos","handleScroll","setTimeout","defaultProps","getWindowDimensions","innerWidth","width","innerHeight","height","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","useNavBar","colorRight","colorLeft","scrollPorcent","setScrollPorcent","documentHeight","scrollHeight","scroll","Math","abs","floor","right","linearGradient","useHandleCursor","projects","leng","img","setPortfolio","scrollPosition","imagesList","images","map","proj","Object","keys","push","alt","title","setImages","initialIndex","reduce","acc","image","ind","index","setIndex","handelCursor","setHandelCursor","handelCursorEvent","windowHeight","cursor","event","length","scrollTo","behavior","useFetchData","url","setProjects","isErr","setisError","getData","res","err","console","log","response","fetchData","setisErr","status","data"],"mappings":"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","sourcesContent":["import { useEffect, useState, useLayoutEffect, useRef } from \"react\";\nimport axios, { get } from 'axios';\n\n// hook to add mousemove event\n// documentation\n//https://codedaily.io/tutorials/60/Create-a-useMousePosition-Hook-with-useEffect-and-useState-in-React\nexport const useMouseMove = () => {\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  useEffect(() => {\n    const setFromEvent = e => setPosition({ x: e.clientX, y: e.clientY });\n    window.addEventListener(\"mousemove\", setFromEvent);\n    return () => {\n      window.removeEventListener(\"mousemove\", setFromEvent);\n    };\n  }, [position]);\n  return position;\n};\n\n\n// hook to add scroll event\n// documentation\n// https://github.com/n8tb1t/use-scroll-position\n// https://dev.to/n8tb1t/tracking-scroll-position-with-react-hooks-3bbj\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\n// the type of window is an object\nconst isBrowser = typeof window !== `undefined`\n\nfunction getScrollPosition({ element, useWindow }) {\n\n  if (!isBrowser) return { x: 0, y: 0 }\n\n  // if there is an element in the DOM to target, target. If not target the body\n  const target = element ? element.current : document.body\n  // get the positions(x,y,height,width, etc) of the target element\n  const position = target.getBoundingClientRect()\n\n  return useWindow\n    ? { x: window.scrollX, y: window.scrollY }\n    : { x: position.left, y: position.top }\n}\n\nexport function useScrollPosition(effect, deps, element, useWindow, wait) {\n  // return x: window.scrollX, y: window.scrollY \n  const position = useRef(getScrollPosition({ useWindow }))\n\n  let throttleTimeout = null\n\n  const callBack = () => {\n    const currPos = getScrollPosition({ element, useWindow })\n    effect({ prevPos: position.current, currPos })\n    position.current = currPos\n    throttleTimeout = null\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!isBrowser) {\n      return\n    }\n\n    const handleScroll = () => {\n      if (wait) {\n        if (throttleTimeout === null) {\n          throttleTimeout = setTimeout(callBack, wait)\n        }\n      } else {\n        callBack()\n      }\n    }\n\n    window.addEventListener('scroll', handleScroll)\n\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, deps)\n}\n\nuseScrollPosition.defaultProps = {\n  deps: [],\n  element: false,\n  useWindow: false,\n  wait: null,\n}\n\n\n// hook to get the window's width and height\n\nconst getWindowDimensions = () => {\n  // get the width and the height from the window object\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport const useWindowDimensions = () => {\n  // set default state of the hook\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n  // set event when the window is resize\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  // return the hook with the data\n  return windowDimensions;\n}\n\n// hook to manege Nav Bar\nexport const useNavBar = (colorRight, colorLeft) => {\n  // get the width and height from the window using already setted hook\n  const { width, height } = useWindowDimensions();\n  // set the scroll Border Nav Hook\n  const [scrollPorcent, setScrollPorcent] = useState(\"\")\n\n  // get the total height of the document\n  const documentHeight = document.body.scrollHeight\n\n  useScrollPosition(({ prevPos, currPos }) => {\n\n    // get the scrollposition if < 50 windowlenght  ? position : bottom position\n    let scroll = Math.abs(currPos.y) < height ? Math.abs(currPos.y) : Math.abs(currPos.y) + height;\n\n    // set porcentages\n    let left = Math.floor(scroll * 100 / documentHeight);\n    let right = 100 - left;\n\n    // set the border Image strings\n    let linearGradient = left > 50 ?\n      `linear-gradient(to right, ${colorRight} ${left}%, ${colorLeft} ${right}%)1` :\n      `linear-gradient(to left, ${colorLeft} ${right}%, ${colorRight} ${left}%)1`\n\n    // store on the hook\n    setScrollPorcent([linearGradient, Math.abs(currPos.y)])\n\n  })\n\n  return [scrollPorcent, documentHeight, height]\n\n}\n\n// hoock to handle the Image Displayer\nexport const useHandleCursor = (projects, leng, img, setPortfolio, scrollPosition) => {\n\n  // store all the image string names in an array\n  const imagesList = (projects, leng) => {\n    let images = []\n\n    projects.map(proj =>\n      proj[Object.keys(proj)].images &&\n      proj[Object.keys(proj)].images\n        .map(img => images.push(\n          {\n            img: img.img,\n            alt: proj[Object.keys(proj)].title[leng]\n          }))\n    )\n    return images\n  }\n\n  // store the images ina hook\n  const [images, setImages] = useState(imagesList(projects, leng));\n\n  // get the index from the imageList of the current image\n  const initialIndex = img => images.reduce((acc, image, ind) => {\n    if (image.img === img.img) { return acc + ind }\n    return acc\n  }, 0);\n\n\n  // get the initial index from the img\n  const [index, setIndex] = useState(initialIndex(img))\n\n  const [handelCursor, setHandelCursor] = useState({})\n\n  // mousemove hook\n  const position = useMouseMove();\n\n  useEffect(() => {\n    handelCursorEvent()\n  }, [index, position])\n\n  // three cursor position (left-center-right)\n  // return an object with the cursos icon and the event function\n  const handelCursorEvent = () => {\n    // set the window height\n    const windowHeight = window.innerWidth;\n\n    if (position.x < windowHeight / 3 - 100)\n      setHandelCursor({\n        cursor: \"url('https://img.icons8.com/ios/30/ffffff/back--v1.png'), auto\",\n        event: () => index > 0 && setIndex(index - 1)\n      });\n    else if (position.x > (windowHeight / 3 * 2) + 100)\n      setHandelCursor({\n        cursor: \"url('https://img.icons8.com/ios/30/ffffff/forward--v1.png'), auto\",\n        event: () => index < images.length - 1 && setIndex(index + 1)\n      });\n    else\n      setHandelCursor({\n        cursor: \"url('https://img.icons8.com/ios/30/ffffff/delete-sign.png'), auto\",\n        event: () => {\n          setPortfolio(\"gallery\")\n          window.scrollTo({ top: scrollPosition, behavior: 'auto' })\n        }\n      })\n  }\n\n  return [index, images, handelCursor]\n\n}\n\nconst useFetchData = url => {\n\n  // hook where the projects are stored\n  const [projects, setProjects] = useState();\n  const [isErr, setisError] = useState();\n\n\n  const getData = async () => {\n\n    try {\n      const res = await get(url);\n      return res\n\n    } catch (err) {\n      console.log(err);\n      return err.response\n    }\n  };\n\n  const fetchData = async (setProjects, setisError) => {\n\n    // fetch data\n    const res = await getData();\n\n    // unsucced fetch\n    if (!res) {\n      // catch errors and display UI\n      setisErr(true)\n\n    } else if (res.status === 200) {\n      // store the data in the hook\n      setProjects(res.data);\n      console.log(\"projects stored\");\n    }\n  }\n\n\n}"]},"metadata":{},"sourceType":"module"}